<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Evaluación de Estacionalidad | Casos de Dengue Grave en Cali 2015-2022</title>
  <meta name="description" content="Este es un reporte que consolida el trabajo realizado durante el desarrollo de la asignatura Análisis de Series de Tiempo de la Maestría en Ciencia de Datos." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Evaluación de Estacionalidad | Casos de Dengue Grave en Cali 2015-2022" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este es un reporte que consolida el trabajo realizado durante el desarrollo de la asignatura Análisis de Series de Tiempo de la Maestría en Ciencia de Datos." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Evaluación de Estacionalidad | Casos de Dengue Grave en Cali 2015-2022" />
  
  <meta name="twitter:description" content="Este es un reporte que consolida el trabajo realizado durante el desarrollo de la asignatura Análisis de Series de Tiempo de la Maestría en Ciencia de Datos." />
  

<meta name="author" content="Jefferson Sanchez" />


<meta name="date" content="2023-05-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="análisis-exploratorio-inicial.html"/>
<link rel="next" href="modelo-de-hw-y-suavizamiento.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Tema de Interés</a></li>
<li class="chapter" data-level="2" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html"><i class="fa fa-check"></i><b>2</b> Análisis Exploratorio Inicial</a>
<ul>
<li class="chapter" data-level="2.1" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#primeras-impresiones"><i class="fa fa-check"></i><b>2.1</b> Primeras impresiones</a></li>
<li class="chapter" data-level="2.2" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#visualización-inicial"><i class="fa fa-check"></i><b>2.2</b> Visualización inicial</a></li>
<li class="chapter" data-level="2.3" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#promedio-móvil"><i class="fa fa-check"></i><b>2.3</b> Promedio Móvil</a></li>
<li class="chapter" data-level="2.4" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#análisis-de-rezagos"><i class="fa fa-check"></i><b>2.4</b> Análisis de rezagos</a></li>
<li class="chapter" data-level="2.5" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#comporamiento-mensual"><i class="fa fa-check"></i><b>2.5</b> Comporamiento mensual</a></li>
<li class="chapter" data-level="2.6" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#operador-diferencia"><i class="fa fa-check"></i><b>2.6</b> Operador diferencia</a></li>
<li class="chapter" data-level="2.7" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#conclusión-preliminar"><i class="fa fa-check"></i><b>2.7</b> Conclusión preliminar</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>3</b> Evaluación de Estacionalidad</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cross.html"><a href="cross.html#adf-test"><i class="fa fa-check"></i><b>3.1</b> ADF test</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="cross.html"><a href="cross.html#evaluación-inicial"><i class="fa fa-check"></i><b>3.1.1</b> Evaluación inicial</a></li>
<li class="chapter" data-level="3.1.2" data-path="cross.html"><a href="cross.html#evaluación-después-de-transformar-la-ts"><i class="fa fa-check"></i><b>3.1.2</b> Evaluación después de transformar la TS</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="cross.html"><a href="cross.html#funciones-acf-y-pacf"><i class="fa fa-check"></i><b>3.2</b> Funciones ACF y PACF</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="cross.html"><a href="cross.html#acf"><i class="fa fa-check"></i><b>3.2.1</b> ACF</a></li>
<li class="chapter" data-level="3.2.2" data-path="cross.html"><a href="cross.html#pacf"><i class="fa fa-check"></i><b>3.2.2</b> PACF</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="cross.html"><a href="cross.html#separación-de-componentes"><i class="fa fa-check"></i><b>3.3</b> Separación de componentes</a></li>
<li class="chapter" data-level="3.4" data-path="cross.html"><a href="cross.html#modelo-arima"><i class="fa fa-check"></i><b>3.4</b> Modelo ARIMA</a></li>
<li class="chapter" data-level="3.5" data-path="cross.html"><a href="cross.html#puntos-de-cambio"><i class="fa fa-check"></i><b>3.5</b> Puntos de cambio</a></li>
<li class="chapter" data-level="3.6" data-path="cross.html"><a href="cross.html#predicción"><i class="fa fa-check"></i><b>3.6</b> Predicción</a></li>
<li class="chapter" data-level="3.7" data-path="cross.html"><a href="cross.html#validación"><i class="fa fa-check"></i><b>3.7</b> Validación</a></li>
<li class="chapter" data-level="3.8" data-path="cross.html"><a href="cross.html#supuestos-de-una-arima"><i class="fa fa-check"></i><b>3.8</b> Supuestos de una ARIMA</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="cross.html"><a href="cross.html#media-cero-de-los-residuos"><i class="fa fa-check"></i><b>3.8.1</b> Media cero de los residuos</a></li>
<li class="chapter" data-level="3.8.2" data-path="cross.html"><a href="cross.html#independencia-de-los-residuos"><i class="fa fa-check"></i><b>3.8.2</b> Independencia de los residuos</a></li>
<li class="chapter" data-level="3.8.3" data-path="cross.html"><a href="cross.html#distribución"><i class="fa fa-check"></i><b>3.8.3</b> Distribución</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modelo-de-hw-y-suavizamiento.html"><a href="modelo-de-hw-y-suavizamiento.html"><i class="fa fa-check"></i><b>4</b> Modelo de HW y Suavizamiento</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modelo-de-hw-y-suavizamiento.html"><a href="modelo-de-hw-y-suavizamiento.html#modelo-de-holt-winters"><i class="fa fa-check"></i><b>4.1</b> Modelo de Holt-Winters</a></li>
<li class="chapter" data-level="4.2" data-path="modelo-de-hw-y-suavizamiento.html"><a href="modelo-de-hw-y-suavizamiento.html#suavizamiento-exponencial-simple"><i class="fa fa-check"></i><b>4.2</b> Suavizamiento Exponencial Simple</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html"><i class="fa fa-check"></i><b>5</b> Metodología Box-Jenkins</a>
<ul>
<li class="chapter" data-level="5.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#visualizar-la-serie"><i class="fa fa-check"></i><b>5.1</b> Visualizar la serie</a></li>
<li class="chapter" data-level="5.2" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#transformarla-en-estacionaria"><i class="fa fa-check"></i><b>5.2</b> Transformarla en estacionaria</a></li>
<li class="chapter" data-level="5.3" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#graficar-acf---pacf"><i class="fa fa-check"></i><b>5.3</b> Graficar ACF - PACF</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#acf-1"><i class="fa fa-check"></i><b>5.3.1</b> ACF</a></li>
<li class="chapter" data-level="5.3.2" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#pacf-1"><i class="fa fa-check"></i><b>5.3.2</b> PACF</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#construir-el-modelo"><i class="fa fa-check"></i><b>5.4</b> Construir el modelo</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#puntos-de-cambio-1"><i class="fa fa-check"></i><b>5.4.1</b> Puntos de cambio</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#hacer-predicción"><i class="fa fa-check"></i><b>5.5</b> Hacer predicción</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#predicción-1"><i class="fa fa-check"></i><b>5.5.1</b> Predicción</a></li>
<li class="chapter" data-level="5.5.2" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#validación-1"><i class="fa fa-check"></i><b>5.5.2</b> Validación</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>6</b> Blocks</a>
<ul>
<li class="chapter" data-level="6.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>6.1</b> Equations</a></li>
<li class="chapter" data-level="6.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>6.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="6.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>6.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>7</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>7.1</b> Publishing</a></li>
<li class="chapter" data-level="7.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>7.2</b> 404 pages</a></li>
<li class="chapter" data-level="7.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>7.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Casos de Dengue Grave en Cali 2015-2022</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cross" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Evaluación de Estacionalidad<a href="cross.html#cross" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="adf-test" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> ADF test<a href="cross.html#adf-test" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Se utiliza la prueba de Dickey-Fuller Aumentado (ADF) para obtener una estadística que permita confirmar o descartar la estacionalidad de la serie Casos de Dengue Grave en Cali.</p>
<div id="evaluación-inicial" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Evaluación inicial<a href="cross.html#evaluación-inicial" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  c220.ts
## Dickey-Fuller = -2.2133, Lag order = 4, p-value = 0.4884
## alternative hypothesis: stationary</code></pre>
<p>Dado que el valor de probabilidad obtenido es mayor que el nivel de significancia elegido, que en este caso es 0.05, entonces no se puede rechazar la hipótesis nula de la prueba, y se concluye que no hay evidencia suficiente para afirmar que la serie de tiempo es estacionaria.</p>
</div>
<div id="evaluación-después-de-transformar-la-ts" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Evaluación después de transformar la TS<a href="cross.html#evaluación-después-de-transformar-la-ts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En la búsqueda de opciones de representación se había empleado el Operador Diferencia, y dado que pareciera tener algún potencial para configurar una dinámica que visibilice ciclos periódicos, se realizó un proceso itetarivo que condujo a identificar que si se utiliza un rezago de 1 periodo, entonces, la prueba ADF generaría un resultado distinto al obtenido en la sección anterior.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="cross.html#cb2-1" aria-hidden="true" tabindex="-1"></a>c220i.ts <span class="ot">&lt;-</span> <span class="fu">diff</span>(c220.ts, <span class="at">lag =</span> <span class="dv">1</span>)</span>
<span id="cb2-2"><a href="cross.html#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="cross.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">adf.test</span>(c220i.ts)</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  c220i.ts
## Dickey-Fuller = -4.5358, Lag order = 4, p-value = 0.01
## alternative hypothesis: stationary</code></pre>
<p>En este caso el valor de probabilidad obtenido es menor que el nivel de significancia, entonces se rechaza la hipótesis nula y se concluye que la serie de tiempo transformada con el operador diferencia es estacionaria, porque su media y variana son constantes a lo largo del tiempo.</p>
</div>
</div>
<div id="funciones-acf-y-pacf" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Funciones ACF y PACF<a href="cross.html#funciones-acf-y-pacf" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Para avanzar sobre el análisis de autocorrelación y estacionalidad de la serie de tiempo se emplean las funciones de autocorrelación (ACF) y autocorrelación parcial (PACF).</p>
<p>Como se muestra a continuación, los resultados obtenidos no parecen ser especialmente significativos, porque no presentan patrones especialmente destacables y no se presenta ciclos evidentes. Todo esto pareciera resaltar cierta independencia de los valores que toma la variable a lo largo del tiempo, resaltando una vez más la particularidad de la serie de tiempo, aún después de las transformaciones realizadas hasta ahora.</p>
<div id="acf" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> ACF<a href="cross.html#acf" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="cross.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">acf</span>(c220i.ts)</span></code></pre></div>
<p><img src="tes2_files/figure-html/fig8-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="pacf" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> PACF<a href="cross.html#pacf" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="cross.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pacf</span>(c220i.ts)</span></code></pre></div>
<p><img src="tes2_files/figure-html/fig9-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="separación-de-componentes" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Separación de componentes<a href="cross.html#separación-de-componentes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Ahora se presenta la descomposición de los componentes de la serie, con la intención de comprender mejor su comportamiento y tendencias a lo largo del tiempo.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="cross.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-2"><a href="cross.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb6-3"><a href="cross.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb6-4"><a href="cross.html#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="cross.html#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir los componentes en un marco de datos</span></span>
<span id="cb6-6"><a href="cross.html#cb6-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">date =</span> <span class="fu">time</span>(decomp<span class="sc">$</span>x),</span>
<span id="cb6-7"><a href="cross.html#cb6-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data =</span> <span class="fu">as.vector</span>(decomp<span class="sc">$</span>x),</span>
<span id="cb6-8"><a href="cross.html#cb6-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trend =</span> <span class="fu">as.vector</span>(decomp<span class="sc">$</span>trend),</span>
<span id="cb6-9"><a href="cross.html#cb6-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">seasonal =</span> <span class="fu">as.vector</span>(decomp<span class="sc">$</span>seasonal),</span>
<span id="cb6-10"><a href="cross.html#cb6-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">remainder =</span> <span class="fu">as.vector</span>(decomp<span class="sc">$</span>random))</span>
<span id="cb6-11"><a href="cross.html#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="cross.html#cb6-12" aria-hidden="true" tabindex="-1"></a>df_long <span class="ot">&lt;-</span> <span class="fu">gather</span>(df, component, value, <span class="sc">-</span>date)</span>
<span id="cb6-13"><a href="cross.html#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="cross.html#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="cross.html#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear gráficos separados para cada componente</span></span>
<span id="cb6-16"><a href="cross.html#cb6-16" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df_long, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> value, <span class="at">group =</span> component)) <span class="sc">+</span></span>
<span id="cb6-17"><a href="cross.html#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;gray50&quot;</span>, <span class="at">size =</span> <span class="fl">0.9</span>) <span class="sc">+</span></span>
<span id="cb6-18"><a href="cross.html#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(component <span class="sc">~</span> ., <span class="at">scales =</span> <span class="st">&quot;free_y&quot;</span>) <span class="sc">+</span></span>
<span id="cb6-19"><a href="cross.html#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span>
<span id="cb6-20"><a href="cross.html#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="cross.html#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Presentar los gráficos juntos utilizando ggarrange</span></span>
<span id="cb6-22"><a href="cross.html#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="fu">ggarrange</span>(plots, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">heights =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="fl">0.5</span>),</span>
<span id="cb6-23"><a href="cross.html#cb6-23" aria-hidden="true" tabindex="-1"></a>          <span class="at">common.legend =</span> <span class="cn">TRUE</span>, <span class="at">legend =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="tes2_files/figure-html/fig10-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>La tendencia de la serie muestra varios cambios de dirección general, siendo que en algunos casos una misma dirección se mantendría por alrededor de 24 meses, pero no se podría asegurar que se trata de intérvalos fijos.</p>
<p>La estacionalidad presenta los patrones repetitivos más estables, que efectivamente tiene sus puntos más alto en los primeros meses del año, tal como se había anticipado anteriormente en los análisis a través del diagrama de violín.</p>
<p>Llama la atención que los residuos tengan un rango más amplio que los otros componentes, lo que sugeriría que hay una cantidad de información impotante que no puede ser explicada a través de los otros componentes incluidos en este análisis.</p>
</div>
<div id="modelo-arima" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Modelo ARIMA<a href="cross.html#modelo-arima" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A continuación se aplica la función auto.arima para encontrar un modelo de ajuste eficiente.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="cross.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;forecast&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:ggpubr&#39;:
## 
##     gghistogram</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="cross.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Aplicar un modelo ARIMA automático a la TS</span></span>
<span id="cb10-2"><a href="cross.html#cb10-2" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">auto.arima</span>(c220i.ts)</span>
<span id="cb10-3"><a href="cross.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="cross.html#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(fit)</span></code></pre></div>
<pre><code>## Series: c220i.ts 
## ARIMA(0,0,1) with zero mean 
## 
## Coefficients:
##           ma1
##       -0.4124
## s.e.   0.0993
## 
## sigma^2 = 0.9335:  log likelihood = -114.51
## AIC=233.02   AICc=233.17   BIC=237.85
## 
## Training set error measures:
##                       ME    RMSE     MAE MPE MAPE      MASE         ACF1
## Training set -0.02942845 0.96036 0.74593 NaN  Inf 0.6448007 -0.009342725</code></pre>
<p>En este caso el resultado indica que se trata de un modelo de media móvil de orden 1 sin érmino autoregresivo ni diferenciación y con media cero. Esto implica que el modelo intentaría explicar las fluctuaciones en la serie de tiempo utilizando solo el término de media móvil, por lo que asume que las desviaciones de la serie de tiempo se deben principalmente a los errores aleatorios.</p>
</div>
<div id="puntos-de-cambio" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Puntos de cambio<a href="cross.html#puntos-de-cambio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>También se intentó detectar puntos de cambio de comportamiento de la serie de tiempo.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="cross.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(changepoint)</span>
<span id="cb12-2"><a href="cross.html#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="cross.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar la función cpt.mean() a la serie de tiempo</span></span>
<span id="cb12-4"><a href="cross.html#cb12-4" aria-hidden="true" tabindex="-1"></a>cpt_obj <span class="ot">&lt;-</span> <span class="fu">cpt.mean</span>(c220i.ts, <span class="at">method =</span> <span class="st">&quot;AMOC&quot;</span>)</span>
<span id="cb12-5"><a href="cross.html#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="cross.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar los resultados</span></span>
<span id="cb12-7"><a href="cross.html#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cpt_obj)</span></code></pre></div>
<p><img src="tes2_files/figure-html/fig11-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>La ausencia de puntos de cambio en la gráfica indica que no se tiene evidencia de que la serie de tiempo tenga puntos de cambio significativos en su media. En consecuencia, la serie de tiempo se mantiene relativamente estable sin cambios repentinos de nivel.</p>
</div>
<div id="predicción" class="section level2 hasAnchor" number="3.6">
<h2><span class="header-section-number">3.6</span> Predicción<a href="cross.html#predicción" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Se realizó un pronóstico del valor de un mes futuro de la serie de tiempo.</p>
<p>La gráfica presenta tanto el valor preciso como los intérvalos de confianza. En esta oportunidad, se consideró conveniente este cortísimo plazo porque no se cuenta con la robustez necesaria para elegir un lapso más extenso.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="cross.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb13-2"><a href="cross.html#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="cross.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Hacer predicciones para los próximos meses</span></span>
<span id="cb13-4"><a href="cross.html#cb13-4" aria-hidden="true" tabindex="-1"></a>fc <span class="ot">&lt;-</span> <span class="fu">forecast</span>(c220i.ts, <span class="at">h=</span><span class="dv">1</span>)</span>
<span id="cb13-5"><a href="cross.html#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="cross.html#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="cross.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar las predicciones y los intervalos de confianza</span></span>
<span id="cb13-8"><a href="cross.html#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(fc)</span></code></pre></div>
<p><img src="tes2_files/figure-html/fig12-1.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="validación" class="section level2 hasAnchor" number="3.7">
<h2><span class="header-section-number">3.7</span> Validación<a href="cross.html#validación" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A continuación se presenta el resultado del procedimiento realizado para detectar los valores atípicos de la serie de tiempo.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="cross.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(data.ts.outliers)</span></code></pre></div>
<p><img src="tes2_files/figure-html/fig13-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>La gráfica presenta los tres valores que difieren significativamente del patrón general de la serie de tiempo y que coincidirán con los eventos inusuales identificados en secciones anteriores de este reporte.</p>
</div>
<div id="supuestos-de-una-arima" class="section level2 hasAnchor" number="3.8">
<h2><span class="header-section-number">3.8</span> Supuestos de una ARIMA<a href="cross.html#supuestos-de-una-arima" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Finalmente, se realizó la validación de algunos supuestos de un modelo ARIMA.</p>
<div id="media-cero-de-los-residuos" class="section level3 hasAnchor" number="3.8.1">
<h3><span class="header-section-number">3.8.1</span> Media cero de los residuos<a href="cross.html#media-cero-de-los-residuos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="cross.html#cb15-1" aria-hidden="true" tabindex="-1"></a>mr<span class="ot">&lt;-</span>fit<span class="sc">$</span>residuals <span class="co"># estos son los residuos del modelo</span></span>
<span id="cb15-2"><a href="cross.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(mr, <span class="at">alternative=</span><span class="st">&#39;two.sided&#39;</span>,</span>
<span id="cb15-3"><a href="cross.html#cb15-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">conf.level=</span><span class="fl">0.95</span>, <span class="at">mu=</span><span class="dv">0</span>)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  mr
## t = -0.27762, df = 82, p-value = 0.782
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  -0.2403046  0.1814477
## sample estimates:
##   mean of x 
## -0.02942845</code></pre>
<p>El resultado de la prueba implica que no hay suficiente evidencia para rechazar la hipótesis nula de que la media de los residuos es cero.</p>
</div>
<div id="independencia-de-los-residuos" class="section level3 hasAnchor" number="3.8.2">
<h3><span class="header-section-number">3.8.2</span> Independencia de los residuos<a href="cross.html#independencia-de-los-residuos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="cross.html#cb17-1" aria-hidden="true" tabindex="-1"></a>independencia <span class="ot">&lt;-</span> <span class="fu">Box.test</span>(mr, <span class="at">type=</span><span class="st">&quot;Ljung-Box&quot;</span>) <span class="co"># Test de Ljung-Box</span></span>
<span id="cb17-2"><a href="cross.html#cb17-2" aria-hidden="true" tabindex="-1"></a>independencia<span class="sc">$</span>p.value</span></code></pre></div>
<pre><code>## [1] 0.9309423</code></pre>
<p>En este caso, el resultado del pvalor indica que no hay suficiente evidencia para rechazar la hipótesis nula de independencia de los residuos.</p>
</div>
<div id="distribución" class="section level3 hasAnchor" number="3.8.3">
<h3><span class="header-section-number">3.8.3</span> Distribución<a href="cross.html#distribución" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="cross.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(mr)</span></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  mr
## W = 0.97452, p-value = 0.09793</code></pre>
<p>Y por último, el resultado del pvalor de la prueba Shapiro-Wilk indica que no hay suficiente evidencia para rechazar la hipótesis nula de normalidad de los residuos.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="análisis-exploratorio-inicial.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modelo-de-hw-y-suavizamiento.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-cross-refs.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["tes2.pdf", "tes2.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
