<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Modelo Facebook Prophet | Casos de Dengue Grave en Cali 2015-2022</title>
  <meta name="description" content="Este es un reporte que consolida el trabajo realizado durante el desarrollo de la asignatura Análisis de Series de Tiempo de la Maestría en Ciencia de Datos." />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Modelo Facebook Prophet | Casos de Dengue Grave en Cali 2015-2022" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este es un reporte que consolida el trabajo realizado durante el desarrollo de la asignatura Análisis de Series de Tiempo de la Maestría en Ciencia de Datos." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Modelo Facebook Prophet | Casos de Dengue Grave en Cali 2015-2022" />
  
  <meta name="twitter:description" content="Este es un reporte que consolida el trabajo realizado durante el desarrollo de la asignatura Análisis de Series de Tiempo de la Maestría en Ciencia de Datos." />
  

<meta name="author" content="Jefferson Sanchez" />


<meta name="date" content="2023-06-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="metodología-box-jenkins.html"/>
<link rel="next" href="sharing-your-book.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Tema de Interés</a></li>
<li class="chapter" data-level="2" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html"><i class="fa fa-check"></i><b>2</b> Análisis Exploratorio Inicial</a>
<ul>
<li class="chapter" data-level="2.1" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#primeras-impresiones"><i class="fa fa-check"></i><b>2.1</b> Primeras impresiones</a></li>
<li class="chapter" data-level="2.2" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#visualización-inicial"><i class="fa fa-check"></i><b>2.2</b> Visualización inicial</a></li>
<li class="chapter" data-level="2.3" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#promedio-móvil"><i class="fa fa-check"></i><b>2.3</b> Promedio Móvil</a></li>
<li class="chapter" data-level="2.4" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#análisis-de-rezagos"><i class="fa fa-check"></i><b>2.4</b> Análisis de rezagos</a></li>
<li class="chapter" data-level="2.5" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#comporamiento-mensual"><i class="fa fa-check"></i><b>2.5</b> Comporamiento mensual</a></li>
<li class="chapter" data-level="2.6" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#operador-diferencia"><i class="fa fa-check"></i><b>2.6</b> Operador diferencia</a></li>
<li class="chapter" data-level="2.7" data-path="análisis-exploratorio-inicial.html"><a href="análisis-exploratorio-inicial.html#conclusión-preliminar"><i class="fa fa-check"></i><b>2.7</b> Conclusión preliminar</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cross.html"><a href="cross.html"><i class="fa fa-check"></i><b>3</b> Evaluación de Estacionalidad</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cross.html"><a href="cross.html#adf-test"><i class="fa fa-check"></i><b>3.1</b> ADF test</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="cross.html"><a href="cross.html#evaluación-inicial"><i class="fa fa-check"></i><b>3.1.1</b> Evaluación inicial</a></li>
<li class="chapter" data-level="3.1.2" data-path="cross.html"><a href="cross.html#evaluación-después-de-transformar-la-ts"><i class="fa fa-check"></i><b>3.1.2</b> Evaluación después de transformar la TS</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="cross.html"><a href="cross.html#funciones-acf-y-pacf"><i class="fa fa-check"></i><b>3.2</b> Funciones ACF y PACF</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="cross.html"><a href="cross.html#acf"><i class="fa fa-check"></i><b>3.2.1</b> ACF</a></li>
<li class="chapter" data-level="3.2.2" data-path="cross.html"><a href="cross.html#pacf"><i class="fa fa-check"></i><b>3.2.2</b> PACF</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="cross.html"><a href="cross.html#separación-de-componentes"><i class="fa fa-check"></i><b>3.3</b> Separación de componentes</a></li>
<li class="chapter" data-level="3.4" data-path="cross.html"><a href="cross.html#modelo-arima"><i class="fa fa-check"></i><b>3.4</b> Modelo ARIMA</a></li>
<li class="chapter" data-level="3.5" data-path="cross.html"><a href="cross.html#puntos-de-cambio"><i class="fa fa-check"></i><b>3.5</b> Puntos de cambio</a></li>
<li class="chapter" data-level="3.6" data-path="cross.html"><a href="cross.html#predicción"><i class="fa fa-check"></i><b>3.6</b> Predicción</a></li>
<li class="chapter" data-level="3.7" data-path="cross.html"><a href="cross.html#validación"><i class="fa fa-check"></i><b>3.7</b> Validación</a></li>
<li class="chapter" data-level="3.8" data-path="cross.html"><a href="cross.html#supuestos-de-una-arima"><i class="fa fa-check"></i><b>3.8</b> Supuestos de una ARIMA</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="cross.html"><a href="cross.html#media-cero-de-los-residuos"><i class="fa fa-check"></i><b>3.8.1</b> Media cero de los residuos</a></li>
<li class="chapter" data-level="3.8.2" data-path="cross.html"><a href="cross.html#independencia-de-los-residuos"><i class="fa fa-check"></i><b>3.8.2</b> Independencia de los residuos</a></li>
<li class="chapter" data-level="3.8.3" data-path="cross.html"><a href="cross.html#distribución"><i class="fa fa-check"></i><b>3.8.3</b> Distribución</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modelo-de-hw-y-suavizamiento.html"><a href="modelo-de-hw-y-suavizamiento.html"><i class="fa fa-check"></i><b>4</b> Modelo de HW y Suavizamiento</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modelo-de-hw-y-suavizamiento.html"><a href="modelo-de-hw-y-suavizamiento.html#modelo-de-holt-winters"><i class="fa fa-check"></i><b>4.1</b> Modelo de Holt-Winters</a></li>
<li class="chapter" data-level="4.2" data-path="modelo-de-hw-y-suavizamiento.html"><a href="modelo-de-hw-y-suavizamiento.html#suavizamiento-exponencial-simple"><i class="fa fa-check"></i><b>4.2</b> Suavizamiento Exponencial Simple</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html"><i class="fa fa-check"></i><b>5</b> Metodología Box-Jenkins</a>
<ul>
<li class="chapter" data-level="5.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#visualizar-la-serie"><i class="fa fa-check"></i><b>5.1</b> Visualizar la serie</a></li>
<li class="chapter" data-level="5.2" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#transformarla-en-estacionaria"><i class="fa fa-check"></i><b>5.2</b> Transformarla en estacionaria</a></li>
<li class="chapter" data-level="5.3" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#graficar-acf---pacf"><i class="fa fa-check"></i><b>5.3</b> Graficar ACF - PACF</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#acf-1"><i class="fa fa-check"></i><b>5.3.1</b> ACF</a></li>
<li class="chapter" data-level="5.3.2" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#pacf-1"><i class="fa fa-check"></i><b>5.3.2</b> PACF</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#construir-el-modelo"><i class="fa fa-check"></i><b>5.4</b> Construir el modelo</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#puntos-de-cambio-1"><i class="fa fa-check"></i><b>5.4.1</b> Puntos de cambio</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#hacer-predicción"><i class="fa fa-check"></i><b>5.5</b> Hacer predicción</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#predicción-1"><i class="fa fa-check"></i><b>5.5.1</b> Predicción</a></li>
<li class="chapter" data-level="5.5.2" data-path="metodología-box-jenkins.html"><a href="metodología-box-jenkins.html#validación-1"><i class="fa fa-check"></i><b>5.5.2</b> Validación</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="modelo-facebook-prophet.html"><a href="modelo-facebook-prophet.html"><i class="fa fa-check"></i><b>6</b> Modelo Facebook Prophet</a>
<ul>
<li class="chapter" data-level="6.1" data-path="modelo-facebook-prophet.html"><a href="modelo-facebook-prophet.html#regresión-univariada"><i class="fa fa-check"></i><b>6.1</b> Regresión Univariada</a></li>
<li class="chapter" data-level="6.2" data-path="modelo-facebook-prophet.html"><a href="modelo-facebook-prophet.html#regresión-multivariada"><i class="fa fa-check"></i><b>6.2</b> Regresión Multivariada</a></li>
<li class="chapter" data-level="6.3" data-path="modelo-facebook-prophet.html"><a href="modelo-facebook-prophet.html#conclusión-sobre-regresión"><i class="fa fa-check"></i><b>6.3</b> Conclusión sobre regresión</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>7</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>7.1</b> Publishing</a></li>
<li class="chapter" data-level="7.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>7.2</b> 404 pages</a></li>
<li class="chapter" data-level="7.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>7.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Casos de Dengue Grave en Cali 2015-2022</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modelo-facebook-prophet" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Modelo Facebook Prophet<a href="modelo-facebook-prophet.html#modelo-facebook-prophet" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Para comenzar, se retoma la gráfica de la variable de Casos de Dengue Grave transformada a través del operador diferencia y rezagada un periodo.</p>
<p><img src="tes2_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Ahora, se realiza una partición de la serie para contar con un subconjunto de prueba y otro de entrenamiento. Se eligió realizar un pronóstico de corto plazo, dada la variabildad histórica y los elementos de contexto de la vigilancia epidemiológica.</p>
<div id="regresión-univariada" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Regresión Univariada<a href="modelo-facebook-prophet.html#regresión-univariada" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Se ajustan dos modelos: un modelo ARIMA y el otro basado en el algoritmo Prophet.</p>
<pre><code>Disabling weekly seasonality. Run prophet with weekly.seasonality=TRUE to override this.</code></pre>
<pre><code>Disabling daily seasonality. Run prophet with daily.seasonality=TRUE to override this.</code></pre>
<p>Se observa el pronóstico del modelo Prophet, incluyendo un intérvalo de confianza.</p>
<p><img src="tes2_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>Se calculan las métricas de desempeño para los dos modelos.</p>
<pre><code>    Model        MAE       RMSE
1   ARIMA 0.06609547 0.09347311
2 Prophet 0.10732330 0.11193692</code></pre>
<p>En este caso, sorprende que el que tenga mejor comportamiento sea el modelo ARIMA. En otras prubas realizadas en la etapa de preparación, el modelo Prophet tuvo un mejor desempeño, aunque por poco.</p>
<p>A continuación se presenta una gráfica de los pronósticos de los dos modelos.</p>
<p><img src="tes2_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Aquí se validaría la necesidad de incorporar otras variables predictoras, de modo que se pueda aprovechar más las capacidades del algoritmo Prophet.</p>
</div>
<div id="regresión-multivariada" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Regresión Multivariada<a href="modelo-facebook-prophet.html#regresión-multivariada" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Después de realizar un preprocesamiento similar al aplicado para la variable de respuesta, se procede a incorporarlas tres variables predictoras en los dos modelos. Las covariables seleccionadas están basadas en los trabajos previos a nivel internacional, los cuales validan la relevancia de los datos de lluvia, temperatura y precipitaciones para la predicción de los casos de dengue.</p>
<pre><code>Disabling weekly seasonality. Run prophet with weekly.seasonality=TRUE to override this.</code></pre>
<pre><code>Disabling daily seasonality. Run prophet with daily.seasonality=TRUE to override this.</code></pre>
<pre><code>    Model        MAE      RMSE
1   ARIMA 0.20100128 0.2379388
2 Prophet 0.01893571 0.0228082</code></pre>
<p>Como se puede observar, en este caso el desempeño del modelo Prophet supera con creces el obtenido por el modelo Arima. Esto confirma la relevancia de la inclusión de las covariables precipitación, lluvia y temperatura.</p>
<p><img src="tes2_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="conclusión-sobre-regresión" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Conclusión sobre regresión<a href="modelo-facebook-prophet.html#conclusión-sobre-regresión" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Llegado este punto, se podría decir que después de realizar un proceso de manipulación efectiva, los registros de Casos de Dengue Grave en Cali se convierten en una serie de tiempo viable para utilizar los enfoques de regresión, toda vez que no representa una variable categórica, evidencia una dinámica estacionaria, se evidencia una relación continua con las variables predictoras, de modo que los cambios en las covariables están relacionados con los cambios en la cantidad de casos de dengue grave, y el desempeño logrado, especialmente por el algoritmo Prophet resulta satisfactorio.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="metodología-box-jenkins.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sharing-your-book.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/05-blocks.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["tes2.pdf", "tes2.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
